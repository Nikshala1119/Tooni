<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 400" style="background: #1a1a2e">
  <!-- Title -->
  <text x="500" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#ffffff">Avatar Animation States</text>

  <!-- State 1: Idle/Disconnected -->
  <g transform="translate(30, 60)">
    <rect x="0" y="0" width="220" height="300" rx="12" fill="#16213e" stroke="#4a5568" stroke-width="2"/>
    <text x="110" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#64748b">IDLE / DISCONNECTED</text>

    <!-- Character (grayscale, dimmed) -->
    <g opacity="0.5" filter="grayscale(100%)">
      <ellipse cx="110" cy="130" rx="60" ry="55" fill="#a0a0a0"/>
      <ellipse cx="85" cy="120" rx="18" ry="15" fill="#d0d0d0"/>
      <ellipse cx="135" cy="120" rx="18" ry="15" fill="#d0d0d0"/>
      <circle cx="85" cy="120" r="6" fill="#555"/>
      <circle cx="135" cy="120" r="6" fill="#555"/>
      <!-- Closed mouth -->
      <path d="M90 155 L130 155" stroke="#555" stroke-width="3" stroke-linecap="round"/>
      <rect x="70" y="185" width="80" height="70" rx="8" fill="#808080"/>
    </g>

    <!-- State details -->
    <rect x="15" y="265" width="190" height="25" rx="4" fill="#1e3a5f"/>
    <text x="110" y="282" text-anchor="middle" font-family="monospace" font-size="10" fill="#64748b">opacity: 0.5 | grayscale</text>
  </g>

  <!-- State 2: Listening -->
  <g transform="translate(270, 60)">
    <rect x="0" y="0" width="220" height="300" rx="12" fill="#16213e" stroke="#22c55e" stroke-width="2"/>
    <text x="110" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#22c55e">LISTENING</text>

    <!-- Glow ring -->
    <circle cx="110" cy="150" r="95" fill="none" stroke="#22c55e" stroke-width="3" opacity="0.6"/>
    <circle cx="110" cy="150" r="95" fill="none" stroke="#22c55e" stroke-width="6" opacity="0.3">
      <animate attributeName="r" values="95;100;95" dur="1.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.5;0.3" dur="1.5s" repeatCount="indefinite"/>
    </circle>

    <!-- Character -->
    <ellipse cx="110" cy="130" rx="60" ry="55" fill="#f7c6a9"/>
    <ellipse cx="85" cy="120" rx="18" ry="15" fill="#fff"/>
    <ellipse cx="135" cy="120" rx="18" ry="15" fill="#fff"/>
    <circle cx="85" cy="120" r="6" fill="#333"/>
    <circle cx="135" cy="120" r="6" fill="#333"/>
    <!-- Small/closed mouth -->
    <ellipse cx="110" cy="155" rx="8" ry="3" fill="#4a1c1c"/>
    <rect x="70" y="185" width="80" height="70" rx="8" fill="#f70032"/>

    <!-- State indicator badge -->
    <rect x="140" y="45" width="70" height="22" rx="11" fill="#22c55e"/>
    <circle cx="152" cy="56" r="4" fill="#fff">
      <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
    </circle>
    <text x="180" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#fff">Active</text>

    <!-- State details -->
    <rect x="15" y="265" width="190" height="25" rx="4" fill="#1e3a5f"/>
    <text x="110" y="282" text-anchor="middle" font-family="monospace" font-size="10" fill="#22c55e">glow: green | mouth: small</text>
  </g>

  <!-- State 3: Speaking -->
  <g transform="translate(510, 60)">
    <rect x="0" y="0" width="220" height="300" rx="12" fill="#16213e" stroke="#3b82f6" stroke-width="2"/>
    <text x="110" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3b82f6">SPEAKING</text>

    <!-- Glow ring (blue) -->
    <circle cx="110" cy="150" r="95" fill="none" stroke="#3b82f6" stroke-width="3" opacity="0.6"/>
    <circle cx="110" cy="150" r="95" fill="none" stroke="#3b82f6" stroke-width="6" opacity="0.3">
      <animate attributeName="r" values="95;102;95" dur="0.8s" repeatCount="indefinite"/>
    </circle>

    <!-- Character -->
    <ellipse cx="110" cy="130" rx="60" ry="55" fill="#f7c6a9"/>
    <ellipse cx="85" cy="120" rx="18" ry="15" fill="#fff"/>
    <ellipse cx="135" cy="120" rx="18" ry="15" fill="#fff"/>
    <circle cx="85" cy="120" r="6" fill="#333"/>
    <circle cx="135" cy="120" r="6" fill="#333"/>
    <!-- Open mouth with animation -->
    <ellipse cx="110" cy="158" rx="20" ry="12" fill="#4a1c1c">
      <animate attributeName="ry" values="8;15;10;12;8" dur="0.4s" repeatCount="indefinite"/>
    </ellipse>
    <!-- Tongue -->
    <ellipse cx="110" cy="165" rx="8" ry="4" fill="#e57373"/>
    <rect x="70" y="185" width="80" height="70" rx="8" fill="#f70032"/>

    <!-- State indicator badge -->
    <rect x="140" y="45" width="70" height="22" rx="11" fill="#3b82f6">
      <animate attributeName="opacity" values="1;0.7;1" dur="0.5s" repeatCount="indefinite"/>
    </rect>
    <text x="160" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#fff">ðŸŽ¤</text>
    <text x="190" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#fff">Talk</text>

    <!-- State details -->
    <rect x="15" y="265" width="190" height="25" rx="4" fill="#1e3a5f"/>
    <text x="110" y="282" text-anchor="middle" font-family="monospace" font-size="10" fill="#3b82f6">glow: blue | mouth: synced</text>
  </g>

  <!-- State 4: Muted -->
  <g transform="translate(750, 60)">
    <rect x="0" y="0" width="220" height="300" rx="12" fill="#16213e" stroke="#f59e0b" stroke-width="2"/>
    <text x="110" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f59e0b">MUTED</text>

    <!-- Glow ring (amber) -->
    <circle cx="110" cy="150" r="95" fill="none" stroke="#f59e0b" stroke-width="3" opacity="0.4"/>

    <!-- Character -->
    <ellipse cx="110" cy="130" rx="60" ry="55" fill="#f7c6a9"/>
    <ellipse cx="85" cy="120" rx="18" ry="15" fill="#fff"/>
    <ellipse cx="135" cy="120" rx="18" ry="15" fill="#fff"/>
    <circle cx="85" cy="120" r="6" fill="#333"/>
    <circle cx="135" cy="120" r="6" fill="#333"/>
    <!-- Closed mouth -->
    <path d="M95 155 L125 155" stroke="#4a1c1c" stroke-width="3" stroke-linecap="round"/>
    <rect x="70" y="185" width="80" height="70" rx="8" fill="#f70032"/>

    <!-- Mute icon overlay -->
    <circle cx="160" cy="200" r="25" fill="#f59e0b" opacity="0.9"/>
    <text x="160" y="208" text-anchor="middle" font-family="Arial, sans-serif" font-size="20">ðŸ”‡</text>

    <!-- State indicator badge -->
    <rect x="140" y="45" width="70" height="22" rx="11" fill="#f59e0b"/>
    <text x="175" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#fff">Muted</text>

    <!-- State details -->
    <rect x="15" y="265" width="190" height="25" rx="4" fill="#1e3a5f"/>
    <text x="110" y="282" text-anchor="middle" font-family="monospace" font-size="10" fill="#f59e0b">glow: amber | mic off</text>
  </g>

  <!-- Bottom legend -->
  <rect x="200" y="370" width="600" height="25" rx="5" fill="#16213e"/>
  <text x="500" y="387" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">State transitions driven by: isConnected, isListening, isTalking, isMuted props</text>
</svg>